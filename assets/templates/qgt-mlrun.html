<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="Windows-1252">
</head>
<style>
html, body { 
  font-family: Helvetica, Arial, sans-serif;
  background-color: #E5E5E5;
}

table, th, td {
  border: 1px solid;
}

table {
  margin: 0px;
  overflow-x: auto;
  border-spacing: 0;
  font-family: courier new, courier, serif;
  font-size: 14px;
  font-weight: normal;
}

tbody {
  white-space: nowrap;
}

td {
  padding: 2px 2px;
  border-top-width: 0;
  border-left-width: 0;
}

.collapsible {
  background-color: #777;
  color: white;
  cursor: pointer;
  padding: 6px;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 18px;
}

.active, .collapsible:hover {
  background-color: #555;
}

.content-tiny {
  padding: 0 8px;
  display: none;
  overflow: hidden;
  background-color: #f1f1f1;
  font-family: courier new, courier, serif;
  font-size: 12px;
  font-weight: normal;
  width:inherit;
  height: 100px;
  overflow: auto;
}

.content {
  padding: 0 10px;
  display: none;
  overflow: hidden;
  background-color: #f1f1f1;
  font-family: courier new, courier, serif;
  font-size: 14px;
  font-weight: normal;
  width:inherit;
  height: 400px;
  overflow: auto;
}

.footer{
  font-family: Helvetica, Arial, sans-serif;
  font-size: 12px;
  font-weight: normal;
  text-align: right;
}

#img-check {
    content: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAYAAABr5z2BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIhSURBVDhPTVJNaBNREP72ZZPdjdntZtNIPCgoSOnFige9FtSjQg+FVgU9ePGgNwXxpFAQKh4KIt4UWtoeBIu3WvAqxYOeWgQVTbEm1SabbNL9e2+dza5J5jEwb3a+7307MxISk85vnLmkKdqMklOFiCIIwXseUdxzOlwIBKHP6L7y/uKnt4SL+gST704vVawjs6ZuQmZymo6NoILAkYAfenAOHDSd5vL65ObV+CNLigDGJKHmVBh5HWZhBEW9CMuwUCS3RkowDQMlo4S8qkHOyCKFoU8QR0IiiXSEFNGdXmZURxq7cHAiN45b5XsYUyZQC7+moCECzgVC4UOOsuhyBy4/gMdd2Hwfo6yCKWMWBWZgL/gNHvYFDAh2xWeMZSdwp/wAp7LnUAuqaAZ/oQgNV4ybyEHBy/pzbLkfcUiUU9QQQR4VVP3vcKlR0+Y1nJUvoB02cV2/jTIpeLX3Ah+6G1AjgxoapqghgkJmFD+CbTzdfYgdZwfThRu4q8/jKDuO1foi1p1laEJPwNL/4Q0IojinQsdP7wse1+6j2qrimDiJtfprLNrzULkFn1ODaZyM9WDU6SEFcbtDEUAOVfzyvmHhzxye1Z5gqbUAJSjC931yl2o4mDSA9SMvcFm7Q0vSasKzI2zZm1jdf4S23UHLdtCwG2i0bTiddq82hcVTTmz8zeHLpG6GMiLOxqubiExMiv+RFpfWOEPhyvZUfQ0A/gHnZ/hPVPci4gAAAABJRU5ErkJggg==');
}
#img-error {
    content: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAYAAABr5z2BAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHNSURBVDhPlVJNaxNRFD3zJjNpmkQUwU1WJX7USBZBKYUqCAlU8D+4EMlCAirWbmIWXalQiu7c+g9aaBGUGEHcGFAwmLgQCoIbRQIaYzozfdNz501CA248cHnv3Tn3vPvOXAsxBuWFe1xuMWYYWnL/gGKMGI8zzXfrkogEWHyMS4eRQxgCf/pA6ghgO0zxrPeBvSFzGZ6jkm/MFzPNdl8UBcKcQciLHRfq0lWS04C/B+wHvFdBFc6TIsUUjLq0ErIZC0hW4+9vqLnTSFZrcG+ustlfwPcOnOpdJO/U+W0eGA6EP3niWMAglYXufUDw9g2chUW49Q04jWdwL1cQfPoIvdvj3bOGG2NawOJRJeA/vA5vewvO4kW4lSvwWi/hr13jc+iFsmOywbSAQHxwj7KblDlrDUv26Vy0j02cYFpA3OYNzv2ncMvL8F69gLezyU6W4DaeUCTLLvyYbDAtICYWSkiULsB73YT/oAb/0Q14z7dh509BnSzQ2MjECcZzcIJLlzNwHAkH6kwRuvvevFl80QGs/DmEX7+YZ1jWT/LPcph+xB2E0teIH4DAh263DNHmr+YMiLHhZwqaYingNIYckEOOsIsVLrcZ/zHKwAFVIJOmG5nR+gAAAABJRU5ErkJggg==');
}
#img-info {
    content: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6klEQVR4nJ2TPQ7CMAyFswAXYSoxDJyziAoE4gogByYWfi4BHISW0VaQU7VqaYLaWoqUIX55z/mi1E/B0QIYTrShp0b6uOX2vJyi1SpU47MdaeQNGGIwbH1LGyJteB3t7bDRDIbvocamEN9qIoC89R0syiuEvKpkJu4qIHFmBztRMrC21j1RFgqQXv9uD0bIXTwUGMr6CgBSKg7S0IEWAu9ghDYCLoJGXvZ3wLESPOVJus5BeqKTjRwLgmePQSYliYKlRr52YOAy39lB7T+IiOAZilPYlpsbzdUSPIUwmXDOCGVujxyXmSv1BSkyfPXWvaHkAAAAAElFTkSuQmCC');
}

</style>
<script>

function myFunction(element) {
  var x = document.getElementById(element);
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

</script>
<body>
	<h2>Quality report for MLRun</h2>
	<p><b>{{ data.datetime }}</b>, QGate version: {{ data.version }}</p>

	<button type="button" class="collapsible" {% if data.summary.state == 'DONE' %}style="background-color: green;"{% else %}style="background-color: #FF006E;" {% endif %} onclick="myFunction('myDIV3')">
		<table style="border: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 18px;">
			<tr>
				<td style="border: 0px; font-weight: bold;">{% if data.summary.state == 'DONE' %}<img src="../assets/imgs/icons8-check-16-3.png">{% else %}<img src="../assets/imgs/icons8-error-16-3.png">{% endif %}Report outputs ...</td>
				<td style="border: 0px; font-size: 12px; vertical-align: bottom; padding: 4px 2px;">{% if data.summary.state == 'DONE' %}{{ data.summary.count_testcases_done }} DONE {% else %} {{ data.summary.count_testcases_err }} Error & {{ data.summary.count_testcases_done }} DONE {% endif %}</td>
			</tr>
		</table>
	</button>
	<div id="myDIV3" style="display: none;" class="content">
		<table>{% for usecase in data.usecases %}
			<tr><td colspan="2"><b>{{ usecase.name }}: {{ usecase.desc }}</b></td></tr>{% for testcase in usecase.testcases %}
				<tr><td>&nbsp;{% if testcase.state == 'DONE' %}<img id="img-check">{% else %}<img id="img-error">{% endif %}{{ testcase.state }}</td><td>'{{ testcase.name }}'{% if testcase.detail is not none %}: {{ testcase.detail }}{% endif %}</td></tr>{% endfor %}{% endfor %}
		</table>
	</div>

	<button type="button" class="collapsible" onclick="myFunction('myDIV')"><img id="img-info">&nbsp;Execution details ...</button>
	<div id="myDIV" style="display: none;" class="content-tiny">
		<p>
			<b>System information:</b></br>
			&nbsp;&nbsp;<b style="color:blue;">MLRun: {{ data.mlrun }}</b> (<a href="https://docs.mlrun.org/en/latest/change-log/index.html" target="_blank">MLRun change log</a>)</br>
			&nbsp;&nbsp;<b style="color:blue;">Python: {{ data.python }}</b></br>
			&nbsp;&nbsp;<b>System:</b> {{ data.system }}</br>
			&nbsp;&nbsp;<b>Platform:</b> {{ data.platform }}</br>
		</p>
		<p>
			<b>Variables:</b></br>{% for variable in data.variables %}
		 	&nbsp;&nbsp;<b>{{ variable.key }}:</b> '{{ variable.value }}'</br> {% endfor %}
		</p>
		<p>
			<b>Hardware information:</b></br>
			&nbsp;&nbsp;<b>CPU:</b> {{ data.cpu }} cores</br>
			&nbsp;&nbsp;<b>RAM total/free:</b> {{ data.memory_total }}/{{ data.memory_free }}</br>
			&nbsp;&nbsp;<b>Host:</b> {{ data.host }}</br>
		</p>
	</div>

	<hr>
	<p class="footer">Source see the <a href="https://github.com/george0st/qgate-sln-mlrun" target="_blank">qgate-sln-mlrun</a>, <a href="https://github.com/george0st/qgate-model" target="_blank">qgate-model</a></p>
</body>
</html>
